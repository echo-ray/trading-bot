from unittest import TestCase, main
from feeds.bittrex import BittrexFeed
from decimal import Decimal

full_depth = {"M": "USDT-ETH", "N": 39454,
              "Z": [{"Q": 3.48057451, "R": 133.45027317}, {"Q": 1.13036406, "R": 133.45027315},
                    {"Q": 6.67996898, "R": 133.45027312}, {"Q": 1.1770726, "R": 133.30617463},
                    {"Q": 19.28027954, "R": 133.25786742}, {"Q": 1.13939033, "R": 133.21790424},
                    {"Q": 0.02214286, "R": 133.08431204}, {"Q": 24.29163004, "R": 133.08431203},
                    {"Q": 1.96057437, "R": 132.98679535}, {"Q": 2.5, "R": 132.8020559}, {"Q": 4.327, "R": 132.80205589},
                    {"Q": 51.2, "R": 132.39552456}, {"Q": 1.31388627, "R": 132.39552455},
                    {"Q": 1.21902906, "R": 132.27243094}, {"Q": 1.8722693, "R": 132.22446965},
                    {"Q": 512.0, "R": 131.97593401}, {"Q": 0.0385, "R": 131.975934}, {"Q": 0.18294, "R": 131.89},
                    {"Q": 6.45970134, "R": 131.13030289}, {"Q": 0.04506967, "R": 131.13030288},
                    {"Q": 0.49, "R": 131.012}, {"Q": 2.12710923, "R": 131.0}, {"Q": 0.3601277, "R": 130.86956688},
                    {"Q": 256.0, "R": 130.66819557}, {"Q": 54.9414035, "R": 130.0007318},
                    {"Q": 68.38767926, "R": 130.0}, {"Q": 0.37904597, "R": 129.93146919},
                    {"Q": 153.6, "R": 129.35473551}, {"Q": 0.89042671, "R": 129.05},
                    {"Q": 0.81550179, "R": 129.00094572}, {"Q": 1.57627081, "R": 129.0}, {"Q": 5.0, "R": 128.86},
                    {"Q": 0.07769964, "R": 128.70072448}, {"Q": 102.4, "R": 128.58027538},
                    {"Q": 233.94265788, "R": 128.55}, {"Q": 31.22557281, "R": 128.1}, {"Q": 27.57836795, "R": 128.0},
                    {"Q": 5.0, "R": 127.5}, {"Q": 0.07848449, "R": 127.41371724}, {"Q": 1.40055102, "R": 127.308},
                    {"Q": 0.5, "R": 127.224}, {"Q": 2.0, "R": 127.21}, {"Q": 3.90459664, "R": 127.08534312},
                    {"Q": 23.56322297, "R": 127.00000001}, {"Q": 14.95433071, "R": 127.0},
                    {"Q": 0.2, "R": 126.94278979}, {"Q": 0.15715741, "R": 126.94278978},
                    {"Q": 4.19581523, "R": 126.793}, {"Q": 0.0275596, "R": 126.68}, {"Q": 13.0, "R": 126.5},
                    {"Q": 0.59090945, "R": 126.3}, {"Q": 0.2, "R": 126.26000001}, {"Q": 3.70628533, "R": 126.2},
                    {"Q": 10.00784306, "R": 126.177}, {"Q": 0.2, "R": 126.16407407}, {"Q": 65.7306783, "R": 126.101},
                    {"Q": 5.56928702, "R": 126.1}, {"Q": 13.46524768, "R": 126.000001}, {"Q": 229.27393689, "R": 126.0},
                    {"Q": 0.15715741, "R": 125.94278978}, {"Q": 0.28201696, "R": 125.63563955},
                    {"Q": 51.2, "R": 125.55150898}, {"Q": 0.16924652, "R": 125.5}, {"Q": 0.02815685, "R": 125.41},
                    {"Q": 0.15894968, "R": 125.2594279}, {"Q": 1.52938828, "R": 125.21}, {"Q": 0.03315364, "R": 125.15},
                    {"Q": 0.46293617, "R": 125.1}, {"Q": 55.62339191, "R": 125.0}, {"Q": 0.15715741, "R": 124.94278978},
                    {"Q": 14.26768415, "R": 124.9}, {"Q": 0.2, "R": 124.66647938}, {"Q": 0.105, "R": 124.4},
                    {"Q": 0.33086147, "R": 124.2594279}, {"Q": 51.2, "R": 124.24052991}, {"Q": 0.02868134, "R": 124.16},
                    {"Q": 0.05, "R": 124.15558888}, {"Q": 0.2, "R": 124.11511893}, {"Q": 0.40189363, "R": 124.1},
                    {"Q": 6.15654604, "R": 124.00000001}, {"Q": 0.60685483, "R": 124.0},
                    {"Q": 0.15715741, "R": 123.94278978}, {"Q": 0.03130994, "R": 123.92200608},
                    {"Q": 2.59663944, "R": 123.67942231}, {"Q": 5.59531503, "R": 123.62},
                    {"Q": 0.33086147, "R": 123.2594279}, {"Q": 17.5, "R": 123.2}, {"Q": 0.2, "R": 123.11511893},
                    {"Q": 0.40515841, "R": 123.1}, {"Q": 40.06633846, "R": 123.0}, {"Q": 0.15715741, "R": 122.94278978},
                    {"Q": 0.02929527, "R": 122.92}, {"Q": 0.36724208, "R": 122.80960035}, {"Q": 1.2, "R": 122.8},
                    {"Q": 1.0, "R": 122.662}, {"Q": 1.0, "R": 122.60165498}, {"Q": 0.33086147, "R": 122.59427898},
                    {"Q": 0.0228, "R": 122.5}, {"Q": 0.08371938, "R": 122.321}, {"Q": 0.5, "R": 122.2},
                    {"Q": 0.40847666, "R": 122.1}, {"Q": 0.3390097, "R": 122.0107467}, {"Q": 6.92264344, "R": 122.0},
                    {"Q": 0.33086147, "R": 121.59427898}, {"Q": 0.4, "R": 121.4}, {"Q": 9.85621242, "R": 121.32},
                    {"Q": 1.31893496, "R": 121.31}, {"Q": 20.88451654, "R": 121.30812215},
                    {"Q": 0.82189164, "R": 121.18974871}, {"Q": 2.30521624, "R": 121.16}, {"Q": 0.41184971, "R": 121.1},
                    {"Q": 19.07809135, "R": 121.0}, {"Q": 0.18449679, "R": 120.985}, {"Q": 51.2, "R": 120.96308225},
                    {"Q": 0.15715741, "R": 120.94278978}, {"Q": 1.0, "R": 120.9}, {"Q": 0.03163851, "R": 120.75},
                    {"Q": 0.33086147, "R": 120.59427898}, {"Q": 1.13027283, "R": 120.5},
                    {"Q": 0.57291709, "R": 120.276}, {"Q": 22.28690229, "R": 120.25}, {"Q": 0.41527893, "R": 120.1},
                    {"Q": 3.0, "R": 120.02}, {"Q": 1.63075557, "R": 120.0100001}, {"Q": 0.03028815, "R": 120.01},
                    {"Q": 217.01279808, "R": 120.0}, {"Q": 6.11661343, "R": 119.91}, {"Q": 0.2, "R": 119.883},
                    {"Q": 0.03103317, "R": 119.57043678}, {"Q": 0.14779343, "R": 119.5}, {"Q": 0.51164861, "R": 119.33},
                    {"Q": 21.9821597, "R": 119.0}, {"Q": 0.05328006, "R": 118.888}, {"Q": 0.215, "R": 118.88},
                    {"Q": 15.0, "R": 118.51}, {"Q": 0.05, "R": 118.18818818}, {"Q": 2.13711374, "R": 118.1},
                    {"Q": 44.80740473, "R": 118.0}, {"Q": 51.2, "R": 117.68563458}, {"Q": 1.54387406, "R": 117.5},
                    {"Q": 0.06125171, "R": 117.13179064}, {"Q": 1.0, "R": 117.1}, {"Q": 38.58049957, "R": 117.0},
                    {"Q": 0.51334729, "R": 116.91340805}, {"Q": 0.03073873, "R": 116.58177614},
                    {"Q": 2.39577972, "R": 116.58}, {"Q": 0.85643985, "R": 116.1}, {"Q": 4.54481867, "R": 116.07200003},
                    {"Q": 30.04449602, "R": 116.0}, {"Q": 2.36698224, "R": 115.777}, {"Q": 6.82526776, "R": 115.51},
                    {"Q": 72.27646928, "R": 115.3}, {"Q": 3.0, "R": 115.275934}, {"Q": 1.19939619, "R": 115.26447748},
                    {"Q": 0.4, "R": 115.25}, {"Q": 22.12680023, "R": 115.0}, {"Q": 0.1, "R": 114.839},
                    {"Q": 1.83409798, "R": 114.83}, {"Q": 250.0, "R": 114.6}, {"Q": 2.5, "R": 114.2},
                    {"Q": 3.0, "R": 114.16370857}, {"Q": 0.06317491, "R": 114.11}, {"Q": 13.22832022, "R": 114.0},
                    {"Q": 1.5, "R": 113.577}, {"Q": 0.2028, "R": 113.5}, {"Q": 0.03135122, "R": 113.3},
                    {"Q": 11.04774743, "R": 113.0}, {"Q": 0.5, "R": 112.85000001}, {"Q": 1.63997919, "R": 112.44112233},
                    {"Q": 2.66340916, "R": 112.356}, {"Q": 0.0315401, "R": 112.32332401},
                    {"Q": 21.29323824, "R": 112.262}, {"Q": 0.1, "R": 112.246}, {"Q": 2.74277865, "R": 112.10170243},
                    {"Q": 0.3390097, "R": 112.0107467}, {"Q": 16.41858442, "R": 112.0},
                    {"Q": 0.03278416, "R": 111.72052396}, {"Q": 0.12718281, "R": 111.49000003},
                    {"Q": 0.26222014, "R": 111.41250003}, {"Q": 0.17933374, "R": 111.24509984},
                    {"Q": 15.45129575, "R": 111.0}, {"Q": 1.0, "R": 110.9}, {"Q": 2.11033749, "R": 110.67942231},
                    {"Q": 0.18720725, "R": 110.2}, {"Q": 0.1, "R": 110.1}, {"Q": 104.70602704, "R": 110.0},
                    {"Q": 17.31666267, "R": 109.99838616}, {"Q": 0.2, "R": 109.982},
                    {"Q": 0.17483816, "R": 109.97294269}, {"Q": 0.5, "R": 109.77700003},
                    {"Q": 1.00000019, "R": 109.6998583}, {"Q": 0.84982597, "R": 109.0},
                    {"Q": 3.59339482, "R": 108.90565596}, {"Q": 3.43940014, "R": 108.43}, {"Q": 9.0, "R": 108.42},
                    {"Q": 0.95632676, "R": 108.19}, {"Q": 1.105563, "R": 108.09}, {"Q": 11.79769928, "R": 108.0},
                    {"Q": 2.7734013, "R": 107.9}, {"Q": 1.92457239, "R": 107.28824764}, {"Q": 0.1, "R": 107.238},
                    {"Q": 5.07502714, "R": 107.0}, {"Q": 1.13321516, "R": 106.77312831},
                    {"Q": 0.96549043, "R": 106.59773336}, {"Q": 0.2, "R": 106.36}, {"Q": 1.8816403, "R": 106.02521423},
                    {"Q": 8.88623464, "R": 106.0}, {"Q": 0.3, "R": 105.375}, {"Q": 1.74025576, "R": 105.275934},
                    {"Q": 0.71114544, "R": 105.2}, {"Q": 0.3, "R": 105.18}, {"Q": 0.03050859, "R": 105.13049825},
                    {"Q": 2.67401338, "R": 105.11}, {"Q": 2.7684649, "R": 105.105}, {"Q": 298.80612187, "R": 105.0},
                    {"Q": 0.0228, "R": 104.9}, {"Q": 19.55142992, "R": 104.15}, {"Q": 9.40029119, "R": 104.1},
                    {"Q": 20.0, "R": 104.09957727}, {"Q": 111.20849905, "R": 104.0},
                    {"Q": 0.48057559, "R": 103.78179987}, {"Q": 0.03088341, "R": 103.68958342},
                    {"Q": 0.95390221, "R": 103.61111}, {"Q": 4.50755805, "R": 103.2}, {"Q": 20.0, "R": 103.09957727},
                    {"Q": 11.60077389, "R": 103.0}, {"Q": 0.5, "R": 102.85000001}, {"Q": 3.0, "R": 102.84045751},
                    {"Q": 0.26443114, "R": 102.63250003}, {"Q": 6.0, "R": 102.36000007}, {"Q": 0.11611999, "R": 102.2},
                    {"Q": 5.85903084, "R": 102.15}, {"Q": 0.2929656, "R": 102.14509984}, {"Q": 1.0, "R": 102.11},
                    {"Q": 26.21493468, "R": 102.0}, {"Q": 0.35479295, "R": 101.99999},
                    {"Q": 0.43853408, "R": 101.8000001}, {"Q": 0.3, "R": 101.8}, {"Q": 13.78357012, "R": 101.0},
                    {"Q": 0.52317144, "R": 100.63250003}, {"Q": 0.5, "R": 100.3}, {"Q": 0.93976425, "R": 100.23},
                    {"Q": 0.59798654, "R": 100.0448}, {"Q": 90.46229176, "R": 100.0001}, {"Q": 30.5975, "R": 100.0},
                    {"Q": 0.40100167, "R": 99.98}, {"Q": 0.11794505, "R": 99.5}, {"Q": 1.05, "R": 99.0},
                    {"Q": 20.21276596, "R": 98.7}, {"Q": 0.52972312, "R": 98.63250003}, {"Q": 0.10178571, "R": 98.0},
                    {"Q": 1.0, "R": 97.79}, {"Q": 0.03241166, "R": 97.32150648}, {"Q": 0.2, "R": 97.0},
                    {"Q": 3.0, "R": 96.96}, {"Q": 6.22788762, "R": 96.1}, {"Q": 97.87145436, "R": 96.0},
                    {"Q": 0.10419768, "R": 95.7315}, {"Q": 0.03705545, "R": 95.58}, {"Q": 6.29783658, "R": 95.0},
                    {"Q": 1.77429533, "R": 94.311}, {"Q": 1.0, "R": 93.33}, {"Q": 1.07155282, "R": 93.09},
                    {"Q": 0.3, "R": 93.0}, {"Q": 0.5, "R": 92.85000001}, {"Q": 2.0, "R": 92.21},
                    {"Q": 10.79312306, "R": 91.5}, {"Q": 4.30167285, "R": 91.25}, {"Q": 20.0, "R": 91.12},
                    {"Q": 11.0, "R": 90.84}, {"Q": 0.257194, "R": 90.7785}, {"Q": 0.11020882, "R": 90.51},
                    {"Q": 4.00029727, "R": 90.36}, {"Q": 0.38676955, "R": 90.26692899},
                    {"Q": 4.41859141, "R": 90.05000002}, {"Q": 35.58258428, "R": 90.0}, {"Q": 2.062386, "R": 89.7},
                    {"Q": 11.16726504, "R": 89.548}, {"Q": 15.0, "R": 89.0}, {"Q": 9.87768544, "R": 88.7},
                    {"Q": 286.05427253, "R": 88.0}, {"Q": 1.0, "R": 87.777}, {"Q": 1.14155705, "R": 87.3812547},
                    {"Q": 0.1113975, "R": 87.0}, {"Q": 0.92842245, "R": 86.58}, {"Q": 29.0, "R": 86.5},
                    {"Q": 15.03651058, "R": 86.0}, {"Q": 0.10487734, "R": 85.6}, {"Q": 2.0, "R": 85.3},
                    {"Q": 6.85469766, "R": 85.0}, {"Q": 12.94620064, "R": 83.83}, {"Q": 0.03020197, "R": 83.78},
                    {"Q": 5.0, "R": 83.777}, {"Q": 0.9885877, "R": 83.24344524}, {"Q": 1.64173721, "R": 83.09},
                    {"Q": 1.02921732, "R": 83.0}, {"Q": 3.3, "R": 82.96}, {"Q": 0.5, "R": 82.85000001},
                    {"Q": 12.1498173, "R": 82.1}, {"Q": 19.84695122, "R": 82.0}, {"Q": 3.0, "R": 81.87856011},
                    {"Q": 75.14303523, "R": 81.0}, {"Q": 5.5, "R": 80.5}, {"Q": 4.0, "R": 80.1},
                    {"Q": 3.74875, "R": 80.0}, {"Q": 5.0, "R": 77.077}, {"Q": 0.03133626, "R": 77.0},
                    {"Q": 0.02960299, "R": 76.0}, {"Q": 1.52996137, "R": 75.0}, {"Q": 0.02813203, "R": 74.7},
                    {"Q": 1.24622344, "R": 74.48}, {"Q": 97.60592202, "R": 74.0}, {"Q": 7.15924867, "R": 73.47},
                    {"Q": 6.82378743, "R": 73.09}, {"Q": 0.04133287, "R": 72.4}, {"Q": 20.0, "R": 71.12},
                    {"Q": 0.03550377, "R": 71.0}, {"Q": 7.73502737, "R": 70.30650758}, {"Q": 0.03479515, "R": 69.0},
                    {"Q": 3.0, "R": 68.0}, {"Q": 0.05054919, "R": 65.0}, {"Q": 10.05232558, "R": 64.5},
                    {"Q": 3.16219873, "R": 63.09}, {"Q": 0.04375364, "R": 61.0}, {"Q": 31.51407014, "R": 60.0903},
                    {"Q": 128.39845, "R": 60.0}, {"Q": 0.04300687, "R": 57.0}, {"Q": 0.04279866, "R": 56.0},
                    {"Q": 4.37149928, "R": 55.11}, {"Q": 3.68093643, "R": 54.334}, {"Q": 3.75779331, "R": 53.09},
                    {"Q": 14.75393563, "R": 53.0}, {"Q": 19.06192142, "R": 52.32965337}, {"Q": 3.91335825, "R": 51.107},
                    {"Q": 10.0, "R": 50.00000005}, {"Q": 1.2, "R": 50.0}, {"Q": 52.0360235, "R": 48.0},
                    {"Q": 0.04241486, "R": 47.7}, {"Q": 2.0984157, "R": 47.655}, {"Q": 0.05203212, "R": 46.01},
                    {"Q": 0.0523052, "R": 45.0}, {"Q": 0.05773899, "R": 42.0}, {"Q": 0.07023611, "R": 38.0},
                    {"Q": 4.86040856, "R": 37.05436143}, {"Q": 0.07055114, "R": 37.0}, {"Q": 0.05512777, "R": 36.7},
                    {"Q": 0.81729539, "R": 36.01}, {"Q": 23.24879256, "R": 35.0}, {"Q": 0.07342178, "R": 33.1},
                    {"Q": 10.07301999, "R": 32.7}, {"Q": 13.85496128, "R": 32.00000002},
                    {"Q": 1125.44466081, "R": 32.0}, {"Q": 0.08313573, "R": 29.0}, {"Q": 0.12265484, "R": 26.0},
                    {"Q": 0.07872331, "R": 25.7}, {"Q": 12.35076163, "R": 24.29}, {"Q": 14.64576509, "R": 21.11},
                    {"Q": 55.74, "R": 14.1}, {"Q": 39.39592138, "R": 8.51}, {"Q": 315.45113535, "R": 1.11},
                    {"Q": 1084.12627207, "R": 1.0121111}, {"Q": 3197.70479131, "R": 0.11}, {"Q": 100000.0, "R": 1e-08}],
              "S": [{"Q": 182.9672941, "R": 133.85099115}, {"Q": 140.97074394, "R": 133.85099118},
                    {"Q": 6.67996898, "R": 133.85099121}, {"Q": 42.067, "R": 133.93128497},
                    {"Q": 13.46772066, "R": 133.99717631}, {"Q": 16.11182891, "R": 134.05137761},
                    {"Q": 16.96826475, "R": 134.15389251}, {"Q": 51.2, "R": 134.21873428},
                    {"Q": 13.55533147, "R": 134.39895056}, {"Q": 0.1115586, "R": 134.45848316},
                    {"Q": 32.31211451, "R": 134.46189579}, {"Q": 22.55856303, "R": 134.57463126},
                    {"Q": 1.87411214, "R": 134.7778275}, {"Q": 512.0, "R": 134.79255946}, {"Q": 0.05763065, "R": 135.0},
                    {"Q": 33.17718216, "R": 135.11335648}, {"Q": 0.19208503, "R": 135.21255887},
                    {"Q": 0.37322751, "R": 135.33354362}, {"Q": 8.1254717, "R": 135.80306798},
                    {"Q": 0.11045406, "R": 135.80306799}, {"Q": 0.18396718, "R": 135.89380667},
                    {"Q": 256.0, "R": 135.89833134}, {"Q": 0.35355942, "R": 136.0}, {"Q": 0.17852, "R": 136.25},
                    {"Q": 21.0, "R": 136.46376494}, {"Q": 0.20189117, "R": 136.9214479}, {"Q": 0.983, "R": 137.1},
                    {"Q": 0.10936045, "R": 137.16109867}, {"Q": 153.6, "R": 137.74988521},
                    {"Q": 0.16062817, "R": 137.9478455}, {"Q": 7.3880089, "R": 137.99}, {"Q": 18.2894431, "R": 138.0},
                    {"Q": 0.1, "R": 138.11111}, {"Q": 10.30751871, "R": 138.5}, {"Q": 0.3, "R": 138.52},
                    {"Q": 0.18035998, "R": 138.6116828}, {"Q": 0.21169731, "R": 138.63033694},
                    {"Q": 0.57475236, "R": 139.05}, {"Q": 51.2, "R": 139.18993214}, {"Q": 102.4, "R": 139.60702826},
                    {"Q": 1.47076334, "R": 139.84}, {"Q": 0.2, "R": 139.88685852}, {"Q": 8.51205776, "R": 140.0},
                    {"Q": 29.9226215, "R": 140.18407854}, {"Q": 0.22208029, "R": 140.33922598},
                    {"Q": 1.0069704, "R": 140.43893824}, {"Q": 33.66218, "R": 140.52533421},
                    {"Q": 0.47475236, "R": 140.88}, {"Q": 0.5, "R": 140.91}, {"Q": 5.09330921, "R": 141.0},
                    {"Q": 0.06039155, "R": 141.2388629}, {"Q": 0.17682351, "R": 141.38391645}, {"Q": 9.0, "R": 141.5},
                    {"Q": 0.05, "R": 141.58888888}, {"Q": 1.53862623, "R": 141.925}, {"Q": 22.42546835, "R": 142.0},
                    {"Q": 0.23361692, "R": 142.04811502}, {"Q": 10.0, "R": 142.1}, {"Q": 0.82210149, "R": 142.5},
                    {"Q": 1.0, "R": 142.67372275}, {"Q": 3.05667198, "R": 142.9133142}, {"Q": 0.46216017, "R": 143.0},
                    {"Q": 0.97831079, "R": 143.31114234}, {"Q": 0.07517876, "R": 143.4}, {"Q": 0.3, "R": 143.52},
                    {"Q": 1.0, "R": 143.67372275}, {"Q": 0.24515356, "R": 143.77014936}, {"Q": 4.05465182, "R": 144.0},
                    {"Q": 0.37507072, "R": 144.05360345}, {"Q": 1.47288326, "R": 144.08},
                    {"Q": 2.84041222, "R": 144.20445306}, {"Q": 0.17335638, "R": 144.21159478},
                    {"Q": 3.4, "R": 144.25541098}, {"Q": 0.03516038, "R": 144.59}, {"Q": 0.1, "R": 144.76329999},
                    {"Q": 26.48938594, "R": 144.76720156}, {"Q": 1.0, "R": 144.88}, {"Q": 30.76886669, "R": 145.0},
                    {"Q": 0.04, "R": 145.28888888}, {"Q": 0.25726703, "R": 145.4790384},
                    {"Q": 0.74706442, "R": 145.48092619}, {"Q": 0.21890042, "R": 145.63}, {"Q": 0.04648272, "R": 146.0},
                    {"Q": 1.69752855, "R": 146.15438545}, {"Q": 1.1, "R": 146.4}, {"Q": 1.37311596, "R": 146.5},
                    {"Q": 7.19690611, "R": 147.0}, {"Q": 0.05, "R": 147.02226411}, {"Q": 0.16995724, "R": 147.09582668},
                    {"Q": 0.27053417, "R": 147.18792744}, {"Q": 0.055036, "R": 147.321}, {"Q": 0.1359293, "R": 147.438},
                    {"Q": 1.0, "R": 147.67372275}, {"Q": 0.05, "R": 147.93010896}, {"Q": 0.2, "R": 147.96},
                    {"Q": 5.05, "R": 147.99999999}, {"Q": 24.49770173, "R": 148.0}, {"Q": 1.02290194, "R": 148.5},
                    {"Q": 1.4901538, "R": 148.7}, {"Q": 0.2, "R": 148.84}, {"Q": 3.52425473, "R": 148.88},
                    {"Q": 0.2838013, "R": 148.90996178}, {"Q": 33.0146851, "R": 149.0}, {"Q": 0.05, "R": 149.34098359},
                    {"Q": 5.0, "R": 149.94098359}, {"Q": 3.37296044, "R": 149.98}, {"Q": 55.09371607, "R": 150.0},
                    {"Q": 1.081575, "R": 150.11}, {"Q": 0.05, "R": 150.4}, {"Q": 0.2982221, "R": 150.61885082},
                    {"Q": 4.06013483, "R": 151.0}, {"Q": 2.6014014, "R": 151.411}, {"Q": 0.5, "R": 151.5},
                    {"Q": 8.00383242, "R": 152.0}, {"Q": 8.0, "R": 152.15260583}, {"Q": 0.31321973, "R": 152.32773985},
                    {"Q": 0.33, "R": 152.85}, {"Q": 11.2857132, "R": 153.0}, {"Q": 0.37836405, "R": 153.33},
                    {"Q": 21.76892281, "R": 153.473}, {"Q": 227.06629443, "R": 154.0},
                    {"Q": 0.32879419, "R": 154.03662889}, {"Q": 9.253811, "R": 154.6}, {"Q": 5.31289616, "R": 154.74},
                    {"Q": 0.2, "R": 154.9455}, {"Q": 61.96575938, "R": 155.0}, {"Q": 1.59932449, "R": 155.1287709},
                    {"Q": 0.12294558, "R": 155.25}, {"Q": 2.96, "R": 155.5}, {"Q": 0.62501715, "R": 155.66396988},
                    {"Q": 0.34494548, "R": 155.75866323}, {"Q": 6.35272954, "R": 155.88999999},
                    {"Q": 0.07912527, "R": 156.0}, {"Q": 0.09, "R": 156.0389266}, {"Q": 0.56125611, "R": 157.0},
                    {"Q": 0.36225044, "R": 157.46755227}, {"Q": 0.23401395, "R": 157.5},
                    {"Q": 0.74706442, "R": 157.64185239}, {"Q": 0.03, "R": 157.98}, {"Q": 2.56985402, "R": 158.0},
                    {"Q": 10.0, "R": 158.68}, {"Q": 3.8, "R": 158.76416535}, {"Q": 15.73721074, "R": 159.0},
                    {"Q": 0.96567461, "R": 159.02}, {"Q": 0.38070906, "R": 159.17644131},
                    {"Q": 0.066, "R": 159.33168595}, {"Q": 0.05905214, "R": 159.347}, {"Q": 5.0, "R": 159.9},
                    {"Q": 143.98291855, "R": 160.0}, {"Q": 5.0, "R": 160.06205646},
                    {"Q": 0.22254212, "R": 160.46339521}, {"Q": 0.12294558, "R": 160.68375},
                    {"Q": 0.39974452, "R": 160.88533035}, {"Q": 12.21720188, "R": 161.77365288},
                    {"Q": 2.61129753, "R": 162.0}, {"Q": 0.86586341, "R": 162.556}, {"Q": 0.4193568, "R": 162.60736469},
                    {"Q": 4.55299686, "R": 162.61088206}, {"Q": 0.72676685, "R": 162.65131521}, {"Q": 5.0, "R": 162.8},
                    {"Q": 2.30487151, "R": 163.0}, {"Q": 5.0, "R": 163.8}, {"Q": 7.01518616, "R": 164.0},
                    {"Q": 0.16666667, "R": 164.11200699}, {"Q": 2.11847964, "R": 164.12571433},
                    {"Q": 0.44589107, "R": 164.31625373}, {"Q": 0.5, "R": 164.65768939}, {"Q": 5.0, "R": 164.7},
                    {"Q": 4.0, "R": 164.9}, {"Q": 0.43662318, "R": 164.99}, {"Q": 25.46530999, "R": 165.0},
                    {"Q": 0.33, "R": 165.27}, {"Q": 4.51387483, "R": 166.0}, {"Q": 0.11047284, "R": 166.30768125},
                    {"Q": 1.9214309, "R": 166.37}, {"Q": 0.71917808, "R": 166.44}, {"Q": 0.16666667, "R": 166.48960559},
                    {"Q": 0.0912336, "R": 166.66761767}, {"Q": 0.1, "R": 166.8455}, {"Q": 134.17596311, "R": 167.0},
                    {"Q": 0.5, "R": 167.36999997}, {"Q": 0.17202251, "R": 167.975638},
                    {"Q": 1.80228702, "R": 167.999999}, {"Q": 12.38968, "R": 168.0}, {"Q": 1.0, "R": 168.66},
                    {"Q": 0.3, "R": 168.6858}, {"Q": 0.16666667, "R": 168.86720419}, {"Q": 1.050915, "R": 169.0},
                    {"Q": 85.55701923, "R": 170.0}, {"Q": 1.45476646, "R": 170.18835524},
                    {"Q": 1.3916448, "R": 170.76308236}, {"Q": 1.05168788, "R": 171.0},
                    {"Q": 0.16666667, "R": 171.2448028}, {"Q": 1.0, "R": 172.0}, {"Q": 0.35879862, "R": 172.05},
                    {"Q": 5.4013692, "R": 173.0}, {"Q": 0.16666667, "R": 173.6224014}, {"Q": 1.02, "R": 173.64},
                    {"Q": 0.09538075, "R": 174.0}, {"Q": 2.56050222, "R": 174.1}, {"Q": 1.87981403, "R": 174.8},
                    {"Q": 0.04425185, "R": 174.8455}, {"Q": 22.29916899, "R": 175.0}, {"Q": 1.02342681, "R": 175.44},
                    {"Q": 1.0, "R": 175.81271391}, {"Q": 0.16666667, "R": 176.0}, {"Q": 11.40445306, "R": 177.0},
                    {"Q": 0.75, "R": 178.44444444}, {"Q": 10.02534895, "R": 179.0}, {"Q": 0.08778779, "R": 179.3000002},
                    {"Q": 0.34, "R": 179.37}, {"Q": 0.41045793, "R": 179.9678845}, {"Q": 3.11388889, "R": 180.0},
                    {"Q": 0.03155193, "R": 181.0}, {"Q": 2.0, "R": 181.85}, {"Q": 3.53062857, "R": 182.0},
                    {"Q": 5.2524086, "R": 182.54246163}, {"Q": 3.64869006, "R": 183.0}, {"Q": 1.03031985, "R": 184.0},
                    {"Q": 1.0, "R": 184.36999997}, {"Q": 1.38134274, "R": 185.0}, {"Q": 2.0, "R": 185.22208443},
                    {"Q": 10.24875354, "R": 185.9}, {"Q": 1.07456861, "R": 186.0}, {"Q": 1.2661236, "R": 187.0},
                    {"Q": 3.48529723, "R": 188.0}, {"Q": 0.1, "R": 188.18}, {"Q": 0.1, "R": 188.2},
                    {"Q": 16.14937555, "R": 188.9999}, {"Q": 3.94485153, "R": 189.0}, {"Q": 4.84092819, "R": 190.0},
                    {"Q": 1.83244715, "R": 191.0}, {"Q": 0.04049408, "R": 192.0}, {"Q": 0.0424077, "R": 193.0},
                    {"Q": 1.816, "R": 193.5}, {"Q": 0.02763921, "R": 194.0}, {"Q": 1.0, "R": 194.66400975},
                    {"Q": 21.22932821, "R": 194.99}, {"Q": 6.06636327, "R": 195.0}, {"Q": 1.0, "R": 195.81271391},
                    {"Q": 0.10025282, "R": 196.0}, {"Q": 3.15991538, "R": 197.0}, {"Q": 0.91214878, "R": 198.0},
                    {"Q": 0.56568721, "R": 198.66652707}, {"Q": 62.76600236, "R": 199.0}, {"Q": 9.79773668, "R": 200.0},
                    {"Q": 1.02409908, "R": 201.0}, {"Q": 0.15472764, "R": 202.0}, {"Q": 0.03121391, "R": 203.0},
                    {"Q": 0.0333578, "R": 205.0}, {"Q": 0.09776156, "R": 207.0}, {"Q": 0.06766318, "R": 208.0},
                    {"Q": 3.08536368, "R": 209.0}, {"Q": 0.08056395, "R": 213.0}, {"Q": 0.14064325, "R": 214.0},
                    {"Q": 0.05921361, "R": 215.0}, {"Q": 13.7551844, "R": 215.89}, {"Q": 20.29204227, "R": 216.63},
                    {"Q": 0.08998555, "R": 217.0}, {"Q": 1.0, "R": 219.0}, {"Q": 0.49150897, "R": 220.0},
                    {"Q": 0.28479121, "R": 220.47544081}, {"Q": 0.10986672, "R": 221.0}, {"Q": 0.95006147, "R": 222.0},
                    {"Q": 0.25495893, "R": 222.36601008}, {"Q": 0.24140425, "R": 223.0}, {"Q": 2.0459944, "R": 224.0},
                    {"Q": 2.01716429, "R": 224.963}, {"Q": 0.67033053, "R": 225.0}, {"Q": 0.07998334, "R": 226.0},
                    {"Q": 2.68481726, "R": 229.0}, {"Q": 0.5, "R": 233.0}, {"Q": 0.03, "R": 233.405},
                    {"Q": 0.03204849, "R": 237.0}, {"Q": 0.25458553, "R": 239.82245353},
                    {"Q": 0.60824974, "R": 241.11111111}, {"Q": 0.59205645, "R": 244.0}, {"Q": 3.01343926, "R": 249.0},
                    {"Q": 6.24186924, "R": 249.9}, {"Q": 142.2578614, "R": 250.0}, {"Q": 0.85192688, "R": 253.0},
                    {"Q": 7.28489262, "R": 254.0}, {"Q": 2.0, "R": 269.0}, {"Q": 0.22958669, "R": 276.81726452},
                    {"Q": 1.5, "R": 295.0}, {"Q": 17.06633342, "R": 300.0}, {"Q": 0.5, "R": 314.0},
                    {"Q": 0.02948011, "R": 325.0}, {"Q": 5.0, "R": 333.0}, {"Q": 1.2, "R": 336.78000006},
                    {"Q": 1.0972366, "R": 337.84}, {"Q": 0.62436404, "R": 342.0}, {"Q": 6.80787383, "R": 350.0},
                    {"Q": 2.0, "R": 364.29}, {"Q": 0.03497371, "R": 381.0}, {"Q": 2.0, "R": 384.2},
                    {"Q": 0.03228625, "R": 387.0}, {"Q": 2.999874, "R": 390.5}, {"Q": 0.54959391, "R": 394.0},
                    {"Q": 3.82885053, "R": 400.0}, {"Q": 0.1, "R": 406.321}, {"Q": 1.0, "R": 406.59},
                    {"Q": 0.5331924, "R": 408.0}, {"Q": 0.66112112, "R": 409.23450573}, {"Q": 0.029, "R": 413.0},
                    {"Q": 0.73457902, "R": 413.32685079}, {"Q": 0.81619892, "R": 417.4601193},
                    {"Q": 0.90688768, "R": 421.6347205}, {"Q": 0.9, "R": 422.82853056}, {"Q": 0.65, "R": 424.38461533},
                    {"Q": 0.68927152, "R": 425.85106771}, {"Q": 0.5, "R": 444.0}, {"Q": 13.76803019, "R": 450.0},
                    {"Q": 0.75020038, "R": 458.0}, {"Q": 57.72, "R": 465.71245999}, {"Q": 18.88375056, "R": 468.0},
                    {"Q": 20.44512999, "R": 499.0}, {"Q": 13.22177034, "R": 500.0}, {"Q": 2.0, "R": 504.2},
                    {"Q": 1.0, "R": 506.59}, {"Q": 0.60428346, "R": 512.0}, {"Q": 0.36, "R": 517.0},
                    {"Q": 0.46889489, "R": 575.0}, {"Q": 0.04763579, "R": 579.0}, {"Q": 0.56040375, "R": 580.0},
                    {"Q": 0.54959905, "R": 637.0}, {"Q": 0.4019099, "R": 678.0}, {"Q": 1.08000004, "R": 696.0},
                    {"Q": 0.07560958, "R": 697.857195}, {"Q": 0.20999999, "R": 709.45903005},
                    {"Q": 0.21049603, "R": 737.0}, {"Q": 2.2311216, "R": 750.0}, {"Q": 0.72671504, "R": 762.0},
                    {"Q": 0.5, "R": 777.0}, {"Q": 0.132332, "R": 783.51}, {"Q": 1.18356176, "R": 788.0},
                    {"Q": 1.01391825, "R": 798.0}, {"Q": 0.21499818, "R": 824.0}, {"Q": 3.0, "R": 837.2},
                    {"Q": 0.13131715, "R": 856.0}, {"Q": 2.14982245, "R": 885.0}, {"Q": 1.68, "R": 894.0},
                    {"Q": 7.19545954, "R": 899.66600033}, {"Q": 8.1803105, "R": 900.0}, {"Q": 1.94702126, "R": 928.0},
                    {"Q": 0.12, "R": 955.53950937}, {"Q": 1.5, "R": 990.0}, {"Q": 4.6981611, "R": 1000.0},
                    {"Q": 0.03566, "R": 1001.0}, {"Q": 1.018167, "R": 1014.6}, {"Q": 3.0, "R": 1042.0},
                    {"Q": 0.06, "R": 1210.5}, {"Q": 0.06, "R": 1225.12841074}, {"Q": 35.87454674, "R": 1234.8765432},
                    {"Q": 4.60204324, "R": 1234.87654321}, {"Q": 1.23894728, "R": 1320.0},
                    {"Q": 0.07, "R": 1453.9999997}, {"Q": 0.13679121, "R": 1500.0}, {"Q": 0.54568345, "R": 1510.0},
                    {"Q": 7.28851, "R": 2510.0}, {"Q": 2.0, "R": 9999.0}, {"Q": 0.1, "R": 10000000.0}], "f": [
        {"I": 302687, "T": 1551532773980, "Q": 3.61460604, "P": 133.4922948, "t": 482.5220550775406, "F": "FILL",
         "OT": "BUY"},
        {"I": 302622, "T": 1551532728010, "Q": 0.75848947, "P": 133.4922948, "t": 101.25249993193576, "F": "FILL",
         "OT": "SELL"},
        {"I": 302432, "T": 1551532584990, "Q": 0.73130717, "P": 133.95904207, "t": 97.96520795212264, "F": "FILL",
         "OT": "BUY"},
        {"I": 302190, "T": 1551532375080, "Q": 0.377, "P": 134.01227116, "t": 50.52262622732, "F": "FILL", "OT": "BUY"},
        {"I": 301630, "T": 1551532181300, "Q": 6.67996898, "P": 133.75382164, "t": 893.4713795116527, "F": "FILL",
         "OT": "BUY"},
        {"I": 298290, "T": 1551530544430, "Q": 6.67996898, "P": 133.7344319, "t": 893.3418566499224, "F": "FILL",
         "OT": "BUY"},
        {"I": 297869, "T": 1551530281680, "Q": 2.15176438, "P": 133.65, "t": 287.583309387, "F": "FILL", "OT": "BUY"},
        {"I": 297774, "T": 1551530219870, "Q": 25.0, "P": 133.62, "t": 3340.5, "F": "FILL", "OT": "BUY"},
        {"I": 297608, "T": 1551530038040, "Q": 7.5546436, "P": 133.53, "t": 1008.771559908, "F": "FILL", "OT": "BUY"},
        {"I": 297597, "T": 1551530036680, "Q": 4.26727384, "P": 133.53, "t": 569.8090758552, "F": "FILL", "OT": "BUY"},
        {"I": 297595, "T": 1551530034580, "Q": 1.57484723, "P": 133.53, "t": 210.2893506219, "F": "FILL", "OT": "BUY"},
        {"I": 297536, "T": 1551529988040, "Q": 1.08105371, "P": 133.53, "t": 144.3531018963, "F": "FILL", "OT": "BUY"},
        {"I": 297535, "T": 1551529987770, "Q": 0.80737253, "P": 133.53, "t": 107.8084539309, "F": "FILL", "OT": "BUY"},
        {"I": 297533, "T": 1551529986080, "Q": 9.71480909, "P": 133.53, "t": 1297.2184577877, "F": "FILL", "OT": "BUY"},
        {"I": 297157, "T": 1551529771680, "Q": 0.4, "P": 132.95662037, "t": 53.182648148, "F": "FILL", "OT": "SELL"},
        {"I": 296405, "T": 1551529201600, "Q": 0.084, "P": 132.89322153, "t": 11.16303060852, "F": "FILL",
         "OT": "SELL"},
        {"I": 296181, "T": 1551529025100, "Q": 0.03356205, "P": 133.10883316, "t": 4.467405313957578, "F": "FILL",
         "OT": "SELL"},
        {"I": 296071, "T": 1551528946490, "Q": 0.49962016, "P": 133.55181697, "t": 66.72518016284212, "F": "FILL",
         "OT": "SELL"},
        {"I": 295702, "T": 1551528746010, "Q": 0.46851606, "P": 133.55181697, "t": 62.57117109262554, "F": "FILL",
         "OT": "SELL"},
        {"I": 295371, "T": 1551528604210, "Q": 0.26010708, "P": 133.82025195, "t": 34.80759497957881, "F": "FILL",
         "OT": "BUY"},
        {"I": 294295, "T": 1551527934430, "Q": 13.30810969, "P": 133.88, "t": 1781.6897252972, "F": "FILL",
         "OT": "BUY"},
        {"I": 294164, "T": 1551527804230, "Q": 3.70449769, "P": 133.83471618, "t": 495.7903969306156, "F": "FILL",
         "OT": "BUY"},
        {"I": 293906, "T": 1551527654120, "Q": 9.71901126, "P": 133.88, "t": 1301.1812274888, "F": "FILL", "OT": "BUY"},
        {"I": 293904, "T": 1551527653040, "Q": 10.40326774, "P": 133.88, "t": 1392.7894850312, "F": "FILL",
         "OT": "BUY"},
        {"I": 293903, "T": 1551527653010, "Q": 3.51409621, "P": 133.88, "t": 470.4672005948, "F": "FILL", "OT": "BUY"},
        {"I": 293871, "T": 1551527631320, "Q": 1.36362479, "P": 133.88, "t": 182.5620868852, "F": "FILL", "OT": "BUY"},
        {"I": 292444, "T": 1551526963710, "Q": 79.40333644, "P": 133.84519436, "t": 10627.75499864427, "F": "FILL",
         "OT": "BUY"},
        {"I": 292441, "T": 1551526961700, "Q": 6.67996898, "P": 133.84519436, "t": 894.081746446871, "F": "FILL",
         "OT": "SELL"},
        {"I": 292440, "T": 1551526961700, "Q": 6.91669458, "P": 133.84519439, "t": 925.7663305963594, "F": "FILL",
         "OT": "SELL"},
        {"I": 291867, "T": 1551526603220, "Q": 0.37175138, "P": 134.16224412, "t": 49.87499939550688, "F": "FILL",
         "OT": "BUY"},
        {"I": 291860, "T": 1551526596800, "Q": 10.0, "P": 134.16224412, "t": 1341.6224412, "F": "FILL", "OT": "BUY"},
        {"I": 291678, "T": 1551526406180, "Q": 0.06003479, "P": 133.44086868, "t": 8.011094528621378, "F": "FILL",
         "OT": "SELL"},
        {"I": 291557, "T": 1551526282290, "Q": 0.125, "P": 134.11135137, "t": 16.76391892125, "F": "FILL", "OT": "BUY"},
        {"I": 291525, "T": 1551526258000, "Q": 1.132, "P": 134.11135142, "t": 151.81404980744, "F": "FILL",
         "OT": "BUY"},
        {"I": 291482, "T": 1551526214430, "Q": 0.03277384, "P": 133.94245898, "t": 4.389808719817083, "F": "FILL",
         "OT": "SELL"},
        {"I": 291284, "T": 1551526004690, "Q": 0.50826447, "P": 134.25235, "t": 68.2356995190045, "F": "FILL",
         "OT": "SELL"},
        {"I": 291130, "T": 1551525904030, "Q": 0.18938167, "P": 134.25235144, "t": 25.424934517134105, "F": "FILL",
         "OT": "BUY"},
        {"I": 291129, "T": 1551525904030, "Q": 0.08114612, "P": 134.18957455, "t": 10.888963319183246, "F": "FILL",
         "OT": "BUY"},
        {"I": 291120, "T": 1551525891110, "Q": 0.18144, "P": 134.07, "t": 24.3256608, "F": "FILL", "OT": "BUY"},
        {"I": 290959, "T": 1551525780850, "Q": 2.5, "P": 133.82, "t": 334.55, "F": "FILL", "OT": "BUY"},
        {"I": 290654, "T": 1551525604390, "Q": 20.89803017, "P": 133.82, "t": 2796.5743973494, "F": "FILL",
         "OT": "BUY"},
        {"I": 290125, "T": 1551525263830, "Q": 1.136, "P": 133.35000005, "t": 151.4856000568, "F": "FILL",
         "OT": "SELL"},
        {"I": 289995, "T": 1551525171640, "Q": 0.18285571, "P": 133.49052453, "t": 24.409504641205565, "F": "FILL",
         "OT": "BUY"},
        {"I": 289833, "T": 1551525002470, "Q": 6.67996898, "P": 133.42709445, "t": 891.2888520175302, "F": "FILL",
         "OT": "BUY"},
        {"I": 289757, "T": 1551524942770, "Q": 0.04506967, "P": 133.12721124, "t": 5.999999478607091, "F": "FILL",
         "OT": "SELL"},
        {"I": 289446, "T": 1551524679870, "Q": 4.5, "P": 133.15821861, "t": 599.211983745, "F": "FILL", "OT": "SELL"},
        {"I": 289250, "T": 1551524627500, "Q": 0.18764652, "P": 133.22922222, "t": 24.999999911889674, "F": "FILL",
         "OT": "BUY"},
        {"I": 288228, "T": 1551523764680, "Q": 0.03117406, "P": 132.79518507, "t": 4.139765067083284, "F": "FILL",
         "OT": "BUY"},
        {"I": 287528, "T": 1551523271150, "Q": 5.75999702, "P": 132.3, "t": 762.047605746, "F": "FILL", "OT": "BUY"},
        {"I": 287361, "T": 1551523185010, "Q": 3.93, "P": 132.3, "t": 519.939, "F": "FILL", "OT": "BUY"},
        {"I": 286614, "T": 1551522719630, "Q": 0.13933282, "P": 132.43, "t": 18.4518453526, "F": "FILL", "OT": "BUY"},
        {"I": 285725, "T": 1551521941600, "Q": 0.53097213, "P": 132.39299482, "t": 70.29699045665437, "F": "FILL",
         "OT": "SELL"},
        {"I": 285602, "T": 1551521821050, "Q": 1.8, "P": 132.6063557, "t": 238.69144026, "F": "FILL", "OT": "BUY"},
        {"I": 285485, "T": 1551521671690, "Q": 23.34514442, "P": 132.28729488, "t": 3088.2660039047264, "F": "FILL",
         "OT": "BUY"},
        {"I": 285204, "T": 1551521467280, "Q": 4.58203817, "P": 132.33965676, "t": 606.3853586790185, "F": "FILL",
         "OT": "SELL"},
        {"I": 285173, "T": 1551521454030, "Q": 0.54116897, "P": 132.33965676, "t": 71.61811573896274, "F": "FILL",
         "OT": "SELL"},
        {"I": 285164, "T": 1551521447210, "Q": 6.67996898, "P": 132.33965676, "t": 884.0248019806473, "F": "FILL",
         "OT": "BUY"},
        {"I": 284754, "T": 1551521127690, "Q": 0.11041468, "P": 131.97593336, "t": 14.572080449645725, "F": "FILL",
         "OT": "SELL"},
        {"I": 284753, "T": 1551521127690, "Q": 1.88958532, "P": 131.97593336, "t": 249.3797862703543, "F": "FILL",
         "OT": "SELL"},
        {"I": 284483, "T": 1551520913470, "Q": 2.75559475, "P": 131.97593336, "t": 363.67218909316585, "F": "FILL",
         "OT": "SELL"},
        {"I": 284480, "T": 1551520904840, "Q": 0.79492, "P": 132.34719411, "t": 105.2054315419212, "F": "FILL",
         "OT": "BUY"},
        {"I": 284479, "T": 1551520904650, "Q": 1.05989284, "P": 131.97593333, "t": 139.88034678878435, "F": "FILL",
         "OT": "BUY"},
        {"I": 284478, "T": 1551520904230, "Q": 4.55828355, "P": 131.97593333, "t": 601.5837258940358, "F": "FILL",
         "OT": "SELL"},
        {"I": 284461, "T": 1551520893290, "Q": 4.14523639, "P": 131.97593333, "t": 547.0714414437299, "F": "FILL",
         "OT": "SELL"},
        {"I": 284432, "T": 1551520874690, "Q": 0.37475619, "P": 132.08587598, "t": 49.499999635077316, "F": "FILL",
         "OT": "SELL"},
        {"I": 284431, "T": 1551520874690, "Q": 1.46704364, "P": 132.08587598, "t": 193.77574429028778, "F": "FILL",
         "OT": "SELL"},
        {"I": 283350, "T": 1551520207490, "Q": 3.91729391, "P": 132.08376091, "t": 517.410912222639, "F": "FILL",
         "OT": "SELL"},
        {"I": 283349, "T": 1551520207490, "Q": 1.06354885, "P": 132.11369, "t": 140.5093630687565, "F": "FILL",
         "OT": "SELL"},
        {"I": 283348, "T": 1551520207490, "Q": 3.61808468, "P": 132.11369008, "t": 477.998518096716, "F": "FILL",
         "OT": "SELL"},
        {"I": 283347, "T": 1551520207490, "Q": 1.40107256, "P": 132.11369011, "t": 185.10086601346438, "F": "FILL",
         "OT": "SELL"},
        {"I": 283248, "T": 1551520114270, "Q": 0.17608625, "P": 132.11369008, "t": 23.2634042598494, "F": "FILL",
         "OT": "SELL"},
        {"I": 282741, "T": 1551519633740, "Q": 0.412732, "P": 132.61251644, "t": 54.73342913531408, "F": "FILL",
         "OT": "BUY"},
        {"I": 282301, "T": 1551519262420, "Q": 0.05, "P": 132.11368763, "t": 6.6056843815, "F": "FILL", "OT": "SELL"},
        {"I": 281820, "T": 1551518949590, "Q": 1.0, "P": 132.3, "t": 132.3, "F": "FILL", "OT": "SELL"},
        {"I": 281819, "T": 1551518949590, "Q": 0.98015873, "P": 132.3, "t": 129.674999979, "F": "FILL", "OT": "SELL"},
        {"I": 281381, "T": 1551518669470, "Q": 2.6684, "P": 132.46, "t": 353.456264, "F": "FILL", "OT": "SELL"},
        {"I": 280947, "T": 1551518356780, "Q": 26.24069449, "P": 132.92, "t": 3487.9131116108, "F": "FILL",
         "OT": "SELL"},
        {"I": 280946, "T": 1551518356500, "Q": 20.18675644, "P": 132.92, "t": 2683.2236660048, "F": "FILL",
         "OT": "SELL"},
        {"I": 280839, "T": 1551518253320, "Q": 4.63155153, "P": 132.94914039, "t": 615.7607945854893, "F": "FILL",
         "OT": "BUY"},
        {"I": 280742, "T": 1551518183290, "Q": 5.51028291, "P": 132.92, "t": 732.4268043972, "F": "FILL", "OT": "SELL"},
        {"I": 280741, "T": 1551518183090, "Q": 5.32409089, "P": 132.92, "t": 707.6781610988, "F": "FILL", "OT": "SELL"},
        {"I": 280740, "T": 1551518182480, "Q": 8.57509473, "P": 132.92, "t": 1139.8015915116, "F": "FILL",
         "OT": "SELL"},
        {"I": 280739, "T": 1551518182120, "Q": 1.24275082, "P": 132.92, "t": 165.1864389944, "F": "FILL", "OT": "SELL"},
        {"I": 280697, "T": 1551518160840, "Q": 4.00005737, "P": 132.92, "t": 531.6876256204, "F": "FILL", "OT": "SELL"},
        {"I": 280644, "T": 1551518093670, "Q": 2.43845121, "P": 132.92, "t": 324.1189348332, "F": "FILL", "OT": "SELL"},
        {"I": 280643, "T": 1551518093460, "Q": 2.55839222, "P": 132.92, "t": 340.0614938824, "F": "FILL", "OT": "SELL"},
        {"I": 280637, "T": 1551518077920, "Q": 0.5064019, "P": 132.92071079, "t": 67.3113004934065, "F": "FILL",
         "OT": "BUY"},
        {"I": 280613, "T": 1551518045500, "Q": 0.89363684, "P": 132.92, "t": 118.7822087728, "F": "FILL", "OT": "SELL"},
        {"I": 280612, "T": 1551518045320, "Q": 0.89363076, "P": 132.92, "t": 118.7814006192, "F": "FILL", "OT": "SELL"},
        {"I": 280611, "T": 1551518045290, "Q": 0.8936356, "P": 132.92, "t": 118.782043952, "F": "FILL", "OT": "SELL"},
        {"I": 280610, "T": 1551518045260, "Q": 0.89363294, "P": 132.92, "t": 118.7816903848, "F": "FILL", "OT": "SELL"},
        {"I": 280609, "T": 1551518045210, "Q": 0.89363387, "P": 132.92, "t": 118.7818140004, "F": "FILL", "OT": "SELL"},
        {"I": 280608, "T": 1551518045170, "Q": 0.89363183, "P": 132.92, "t": 118.7815428436, "F": "FILL", "OT": "SELL"},
        {"I": 280607, "T": 1551518045090, "Q": 0.89363427, "P": 132.92, "t": 118.7818671684, "F": "FILL", "OT": "SELL"},
        {"I": 280606, "T": 1551518044950, "Q": 0.89363529, "P": 132.92, "t": 118.7820027468, "F": "FILL", "OT": "SELL"},
        {"I": 280605, "T": 1551518044930, "Q": 0.89363466, "P": 132.92, "t": 118.7819190072, "F": "FILL", "OT": "SELL"},
        {"I": 280604, "T": 1551518044930, "Q": 0.89363466, "P": 132.92, "t": 118.7819190072, "F": "FILL", "OT": "SELL"},
        {"I": 280603, "T": 1551518044900, "Q": 0.89363529, "P": 132.92, "t": 118.7820027468, "F": "FILL", "OT": "SELL"},
        {"I": 280602, "T": 1551518044890, "Q": 0.8936335, "P": 132.92, "t": 118.78176482, "F": "FILL", "OT": "SELL"},
        {"I": 280601, "T": 1551518044850, "Q": 0.8936337, "P": 132.92, "t": 118.781791404, "F": "FILL", "OT": "SELL"}],
              "invoke_type": "QueryExchangeState", "ticker": "USDT-ETH"}

delta = {"M": "USDT-ETH", "N": 39455, "Z": [{"TY": 1, "R": 132.8020559, "Q": 0.0}], "S": [], "f": [],
         "invoke_type": "SubscribeToExchangeDeltas"}


class BittrexFeedTest(TestCase):
    def test_bids_asks_from_msg(self):
        feed = BittrexFeed()
        self.assertEqual(
            feed.asks_from_msg(full_depth),
            full_depth["S"]
        )
        self.assertEqual(
            feed.bids_from_msg(full_depth),
            full_depth["Z"]
        )

    def test_ask_bid_volume(self):
        feed = BittrexFeed()
        self.assertEqual(
            feed.ask_bid_volume(
                {"Q": 6.67996898, "R": 133.45027312}
            ),
            Decimal(6.67996898)
        )

    def test_ask_bid_deleted(self):
        feed = BittrexFeed()
        self.assertTrue(
            feed.ask_bid_deleted(
                {"TY": 1, "R": 132.8020559, "Q": 0.0}
            )
        )
        self.assertTrue(
            feed.ask_bid_deleted(
                {"R": 132.8020559, "Q": 0.0}
            )
        )
        self.assertFalse(
            feed.ask_bid_deleted(
                {"Q": 3.0, "R": 120.02}
            )
        )

    def test_ask_bid_price(self):
        feed = BittrexFeed()
        self.assertEqual(
            feed.ask_bid_price(
                {"TY": 1, "R": 132.8020559, "Q": 0.0}
            ),
            Decimal(132.8020559)
        )


if __name__ == '__main__':
    main()
